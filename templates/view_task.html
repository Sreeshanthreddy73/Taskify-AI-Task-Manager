{% extends "layout.html" %}
{% block content %}

<style>
.glass-card {
    background: rgba(255, 255, 255, 0.5);
    backdrop-filter: blur(10px);
    padding: 22px;
    border-radius: 16px;
}
</style>

<h2 class="mb-3"><i class="bi bi-clipboard-check"></i> Task Details</h2>

<a href="/task-list" class="btn btn-secondary mb-3">
    <i class="bi bi-arrow-left"></i> Back
</a>

<div class="glass-card shadow-sm mb-4">
    <h4 class="fw-bold">{{ task.task }}</h4>
    <p><strong>Assigned To:</strong> {{ task.assigned_to }}</p>
    <p><strong>Priority:</strong> {{ task.priority }}</p>
    <p><strong>Status:</strong> {{ task.status }}</p>

    <a href="/explain/{{ task.id }}" class="btn btn-info mt-2">
        <i class="bi bi-stars"></i> Explain with AI
    </a>
</div>

<h4 class="mb-2">Subtasks</h4>

<ul class="list-group mb-3">
    {% for s in subtasks %}
    <li class="list-group-item d-flex justify-content-between">
       {{ s }}
    </li>
    {% endfor %}

    {% if subtasks|length == 0 %}
       <li class="list-group-item text-muted">No Subtasks Yet</li>
    {% endif %}
</ul>

<form action="/add-subtask/{{ task.id }}" method="POST" class="card p-3 shadow-sm">
    <label>Add Subtask:</label>
    <div class="input-group">
        <input type="text" class="form-control" name="subtask" placeholder="Enter subtask" required>
        <button class="btn btn-primary">
            <i class="bi bi-plus-circle"></i> Add
        </button>
    </div>
</form>

{% endblock %}
